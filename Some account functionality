def validate_password(password: str) -> bool:
    if len(password) < 8:
        print("Password must be at least 8 characters long.")
        return False
    if not re.search(r"\d", password):
        print("Password must contain at least one number.")
        return False
    if not re.search(r"[A-Z]", password):
        print("Password must contain at least one uppercase letter.")
        return False
    if not re.search(r"[a-z]", password):
        print("Password must contain at least one lowercase letter.")
        return False
    if not re.search(r"[!@#$%^&*(),.?\":{}|<>]", password): 
        print("Password must contain at least one special character.")
        return False
    return True

def register_user(email: str, password: str, name: str) -> bool:
    try:
        if not validate_password(password):
            print("Password does not meet requirements.")
            return False
        response = supabase.auth.sign_up(email=email, password=password)
        if response.user:
            print("User registered successfully.")
            return True
        else:
            print(f"Registration failed")
            return False
    except Exception as e:
        print(f"Error during registration: {e}")
        return False


def login_user(email: str, password: str) -> bool:
    try:
        response = supabase.auth.sign_in_with_password(email=email, password=password)
        if response.session:
            print("Logged in successfully.")
            return True
        else:
            print(f"Login failed")
            return False
    except Exception as e:
        print(f"Error during login: {e}")
        return False
